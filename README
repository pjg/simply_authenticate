SimplyAuthenticate
==================

Rails plugin providing a relatively simple but quite complete authentication system with roles (many-to-many relationship).


Requirements
============

Rails version 2.2.2+

String class needs to have the .to_slug method defined. This can be provided by installing my ruby_extensions plugin:

  git submodule add git://github.com/pjg/ruby_extensions.git vendor/plugins/ruby_extensions


The following gems must be installed: unidecode (for reliable .to_slug), redgreen, sqlite3-ruby (for testing):

  gem install unidecode
  gem install redgreen
  gem install sqlite3-ruby


Installation
============

git clone git://github.com/pjg/simply_authenticate.git vendor/plugins/simply_authenticate


script/generate model user
script/generate model role
+ migrations...

script/generate controller

scrip/generate mailer Notifications (or something)
i config/initializers/simply_authenticate.rb
  SimplyAuthenticate::Settings.application = 'BlahBlah.pl'
  SimplyAuthenticate::Settings.application_url = 'http://blah.pl'
  SimplyAuthenticate::Settings.signature = 'Pozdrawiamy,\nBlah.pl'

SimplyAuthenticate::Settings.notifications[:application] = 'TylkoZyczenia.pl'
SimplyAuthenticate::Settings.notifications[:host] = "tylkozyczenia.pl"
SimplyAuthenticate::Settings.notifications[:email] = 'poczta@tylkozyczenia.pl'

SimplyAuthenticate::Settings.roles = [:user, :administrator]
# user is the default role (required), other roles may be left undefined
# each role must have a corresponding database entry in the 'roles' table

config/routes.rb
  # User.send(:include, SimplyAuthenticate::UserExtension) if defined?(User)
  map.authentication_routes

Templates

The following controller actions have their own templates:

If you want to use your own template you can just create it in the app/views/users/ directory and it should be picked up instead of the template from the plugin.

User profiles

If you'd like to display some additional information in user's profile, create an empty partial:

app/views/users/_detailed_profile.html.erb

  <p>Added comments: <strong><%= @user.comments_count %></strong></p>









Additional notes
================

If you have the simply_settings plugin installed you might want to add the following global settings, which will be respected by the simply_authenticate plugin:

script/generate migration add_simply_authenticate_settings

def up
  Settings.new(:name => 'registration_allowed', :value => 0).save
  Settings.new(:name => 'password_change_allowed', :value => 1).save



FAQ
===

Changing paths of named routes
------------------------------
vim config/initializers/simply_authenticate.rb

SimplyAuthenticate::Settings.route_names[:login_path] = 'login'

See: simply_authenticate/lib/settings.rb



Examples
========


Copyright (c) 2009 Paweł Gościcki, released under the MIT license
